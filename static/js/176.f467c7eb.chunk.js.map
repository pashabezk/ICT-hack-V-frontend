{"version":3,"file":"static/js/176.f467c7eb.chunk.js","mappings":"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","sources":["webpack://ict-hack-v-frontend/./src/Components/LoadingPage/LoadingPage.module.css?f1d5","Components/LoadingPage/LoadingPage.jsx","Components/HOC/withAuthRedirect.jsx","webpack://ict-hack-v-frontend/./src/Components/PageWithSideMenu/PageWithDefaultMenuSidebar.module.css?cb9a","Components/PageWithSideMenu/PageWithStandartMenu.jsx","webpack://ict-hack-v-frontend/./src/Components/ProjectsPage/ProjectCard.module.css?9282","Components/ProjectsPage/ProjectShortCard.jsx","Components/ProjectsPage/ProjectsPage.jsx","webpack://ict-hack-v-frontend/./src/Components/StudentProfilePage/StudentProfilePage.module.css?d9a2"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loadingContainer\":\"LoadingPage_loadingContainer__AeygI\",\"loader\":\"LoadingPage_loader__KyCIh\"};","import React from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getInfoFromTokenAsync, selectToken, selectUserId} from \"../../Redux/AuthReducer\";\r\nimport {Spin} from \"antd\";\r\nimport styles from \"./LoadingPage.module.css\"\r\n\r\n// страница загрузки во время ожидания получения данных о пользователе по токену\r\nconst LoadingPage = () => {\r\n\r\n\tconst userId = useSelector(selectUserId);\r\n\tconst token = useSelector(selectToken);\r\n\tconst dispatch = useDispatch();\r\n\r\n\t// если токен есть (получен из куки), а идентификатора пользователя нет, значит надо подгрузить информацию о пользователе\r\n\tif (token && !userId) {\r\n\t\tdispatch(getInfoFromTokenAsync(token));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.loadingContainer}>\r\n\t\t\t<Spin tip=\"Загрузка\" size=\"large\" className={styles.loader}/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default LoadingPage;","import React from \"react\";\r\nimport {Navigate, useLocation} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectToken, selectUserId, tryLogOutAsync} from \"../../Redux/AuthReducer\";\r\nimport LoadingPage from \"../LoadingPage/LoadingPage\";\r\nimport {getTokenFromCookie} from \"../../Cookie/AuthWithCookie\";\r\n\r\n\r\n// пропускает на нужную страницу только если пользователь авторизован\r\n// иначе редиректит на страницу авторизации\r\nconst withAuthRedirect = (Component) => {\r\n\treturn (props) => {\r\n\t\tconst userId = useSelector(selectUserId);\r\n\t\tconst token = useSelector(selectToken);\r\n\t\tconst dispatch = useDispatch();\r\n\t\tconst location = useLocation().pathname.split('/')[1]; // берём адрес url\r\n\r\n\t\t// проверка, что токен не был отозван\r\n\t\tif(getTokenFromCookie() !== token) {\r\n\t\t\tdispatch(tryLogOutAsync()); // если отозван, то на всякий случай диспатчим logout\r\n\t\t\treturn <Navigate to={\"/login\"}/> // редирект на страницу авторизации\r\n\t\t}\r\n\r\n\t\t// если токен есть, а идентификатора пользователя нет, значит надо попробовать получить информацию о пользователе по токену (это происходит внутри отрендеренного компонента)\r\n\t\tif (token && !userId) {\r\n\t\t\treturn <LoadingPage/>\r\n\t\t}\r\n\r\n\t\t// чтобы избежать зацикленности при попадании на страницу логина необходимо дополнительное условие\r\n\t\t// если пользователь хочет попасть на страничку авторизации и ещё не авторизован, то пропускаем его\r\n\t\t// если он уже авторизован, то редиректим на главную страницу\r\n\t\tif (location === \"login\") {\r\n\t\t\tif (userId)\r\n\t\t\t\treturn <Navigate to={\"/\"}/>\r\n\t\t\telse\r\n\t\t\t\treturn <Component {...props}/>\r\n\t\t}\r\n\r\n\t\t// если авторизация пройдена, то рендерится нужный компонент, иначе редирект на страницу авторизации\r\n\t\tif (userId)\r\n\t\t\treturn <Component {...props}/>\r\n\t\treturn <Navigate to={\"/login\"}/>\r\n\t}\r\n}\r\n\r\nexport default withAuthRedirect;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageWithDefaultMenuSidebar_wrapper__l062g\",\"sidebar\":\"PageWithDefaultMenuSidebar_sidebar__t1Zi9\",\"content\":\"PageWithDefaultMenuSidebar_content__Y8Djl\"};","import React from \"react\";\r\nimport {ExperimentOutlined, LinkOutlined, UserOutlined} from \"@ant-design/icons\";\r\nimport {Menu} from \"antd\";\r\nimport styles from \"./PageWithDefaultMenuSidebar.module.css\"\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\n\r\nconst menuItems = [\r\n\t{label: 'Профиль', icon: <UserOutlined/>, key: 'profile'},\r\n\t{label: 'Проекты', icon: <ExperimentOutlined/>, key: 'projects'},\r\n\t{\r\n\t\tlabel: 'Раскрывашка',\r\n\t\ticon: <LinkOutlined/>,\r\n\t\tkey: 'item-3',\r\n\t\tchildren: [{\r\n\t\t\tlabel: 'Подменю 1',\r\n\t\t\tkey: 'submenu-item-1'\r\n\t\t}, {\r\n\t\t\tlabel: 'Подменю 2',\r\n\t\t\tkey: 'submenu-item-2'\r\n\t\t}],\r\n\t},\r\n];\r\n\r\nconst PageWithDefaultMenuSidebar = ({children, ...props}) => {\r\n\tconst navigate = useNavigate();\r\n\tconst location = useLocation().pathname.split('/')[1];\r\n\r\n\tconst onMenuSelect = (props) => {\r\n\t\tnavigate(\"/\" + props.key);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<div className={styles.sidebar}>\r\n\t\t\t\t<Menu\r\n\t\t\t\t\tmode=\"inline\"\r\n\t\t\t\t\tdefaultSelectedKeys={[location]}\r\n\t\t\t\t\t// defaultOpenKeys={['sub1']}\r\n\t\t\t\t\titems={menuItems}\r\n\t\t\t\t\tonSelect={onMenuSelect}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<section className={styles.content}>\r\n\t\t\t\t{children}\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PageWithDefaultMenuSidebar;","// extracted by mini-css-extract-plugin\nexport default {\"projectBlock\":\"ProjectCard_projectBlock__U3yxv\",\"projectCard\":\"ProjectCard_projectCard__VqvZn\"};","import {Card} from \"antd\";\r\nimport styles from \"./ProjectCard.module.css\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {openModalWithProject} from \"../../Redux/ProjectsReducer\";\r\n\r\nconst ProjectShortCard = ({id, title, desc}) => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst onCardClick = () => {\r\n\t\tdispatch(openModalWithProject(id));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\ttitle={title}\r\n\t\t\tbordered={true}\r\n\t\t\tonClick={onCardClick}\r\n\t\t\tclassName={styles.projectCard}>\r\n\t\t\t<p>{desc}</p>\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nexport default ProjectShortCard","import React from \"react\";\r\nimport PageWithDefaultMenuSidebar from \"../PageWithSideMenu/PageWithStandartMenu\";\r\nimport withAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport ProjectShortCard from \"./ProjectShortCard\";\r\nimport styles from \"../StudentProfilePage/StudentProfilePage.module.css\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectAllProjects, selectAllProjectsIsLoading, selectIsOpenedModalWithProject, selectParticipatedProjects, selectParticipatedProjectsIsLoading, toggleIsModalWithProjectOpened, tryGetAllProjectsAsync, tryGetParticipatedProjectsAsync} from \"../../Redux/ProjectsReducer\";\r\nimport {Modal, Spin} from \"antd\";\r\nimport ProjectPage from \"../ProjectPage/ProjectPage\";\r\n\r\n\r\nconst ProjectsPage = () => {\r\n\tconst participatedProjects = useSelector(selectParticipatedProjects);\r\n\tconst participatedProjectsIsLoading = useSelector(selectParticipatedProjectsIsLoading);\r\n\tconst allProjects = useSelector(selectAllProjects);\r\n\tconst allProjectsIsLoading = useSelector(selectAllProjectsIsLoading);\r\n\tconst isModalOpen = useSelector(selectIsOpenedModalWithProject)\r\n\tconst dispatch = useDispatch();\r\n\r\n\tif (participatedProjects === null) {\r\n\t\tdispatch(tryGetParticipatedProjectsAsync());\r\n\t}\r\n\r\n\tif (allProjects === null) {\r\n\t\tdispatch(tryGetAllProjectsAsync());\r\n\t}\r\n\r\n\tconst projectsToCards = (projectArr) => {\r\n\t\tif (projectArr)\r\n\t\t\treturn projectArr.map(pr => {\r\n\t\t\t\tconst desc = (pr.description.length < 100) ? pr.description : pr.description.slice(0, 100) + \"…\";\r\n\t\t\t\treturn <ProjectShortCard key={pr.id} id={pr.id} title={pr.title} desc={desc}/>\r\n\t\t\t});\r\n\t\telse return <></>\r\n\t}\r\n\r\n\tconst participatedProjectsCards = projectsToCards(participatedProjects);\r\n\tconst allProjectsCards = projectsToCards(allProjects);\r\n\r\n\treturn (\r\n\t\t<PageWithDefaultMenuSidebar>\r\n\t\t\t<h1>Мои проекты</h1>\r\n\t\t\t{\r\n\t\t\t\tparticipatedProjectsIsLoading\r\n\t\t\t\t\t? <Spin tip=\"Подгружаем данные\" size=\"default\"/>\r\n\t\t\t\t\t: participatedProjects && participatedProjects.length !== 0\r\n\t\t\t\t\t\t? <div className={styles.projectBlock}>{participatedProjectsCards}</div>\r\n\t\t\t\t\t\t: <p>Вы ещё не выбрали проекты для участия</p>\r\n\t\t\t}\r\n\r\n\t\t\t<h1>Найти проект</h1>\r\n\t\t\t{\r\n\t\t\t\tallProjectsIsLoading\r\n\t\t\t\t\t? <Spin tip=\"Подгружаем данные\" size=\"default\"/>\r\n\t\t\t\t\t: allProjects && allProjects.length !== 0\r\n\t\t\t\t\t\t? <div className={styles.projectBlock}>{allProjectsCards}</div>\r\n\t\t\t\t\t\t: <p>Проекты не найдены</p>\r\n\t\t\t}\r\n\r\n\r\n\t\t\t<Modal\r\n\t\t\t\topen={isModalOpen}\r\n\t\t\t\tfooter={[]}\r\n\t\t\t\twidth={1000}\r\n\t\t\t\tonCancel={() => dispatch(toggleIsModalWithProjectOpened())}>\r\n\t\t\t\t<ProjectPage/>\r\n\t\t\t</Modal>\r\n\t\t</PageWithDefaultMenuSidebar>\r\n\t);\r\n}\r\n\r\nexport default withAuthRedirect(ProjectsPage);","// extracted by mini-css-extract-plugin\nexport default {\"avaAndNameContainer\":\"StudentProfilePage_avaAndNameContainer__slLte\",\"nameBlock\":\"StudentProfilePage_nameBlock__Kz79I\",\"editButton\":\"StudentProfilePage_editButton__NzkGg\",\"projectBlock\":\"StudentProfilePage_projectBlock__aqAEG\"};"],"names":["userId","useSelector","selectUserId","token","selectToken","dispatch","useDispatch","getInfoFromTokenAsync","className","styles","tip","size","Component","props","location","useLocation","pathname","split","getTokenFromCookie","tryLogOutAsync","to","menuItems","label","icon","UserOutlined","key","ExperimentOutlined","LinkOutlined","children","navigate","useNavigate","mode","defaultSelectedKeys","items","onSelect","id","title","desc","bordered","onClick","openModalWithProject","withAuthRedirect","participatedProjects","selectParticipatedProjects","participatedProjectsIsLoading","selectParticipatedProjectsIsLoading","allProjects","selectAllProjects","allProjectsIsLoading","selectAllProjectsIsLoading","isModalOpen","selectIsOpenedModalWithProject","tryGetParticipatedProjectsAsync","tryGetAllProjectsAsync","projectsToCards","projectArr","map","pr","description","length","slice","participatedProjectsCards","allProjectsCards","open","footer","width","onCancel","toggleIsModalWithProjectOpened"],"sourceRoot":""}